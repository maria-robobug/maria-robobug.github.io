<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Start Using the Java SDK | Couchbase Docs (Local)</title>
<link rel="canonical" href="https://maria-robobug.github.io/java-sdk/3.4/hello-world/start-using-sdk.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="A quick start guide to get you up and running with Couchbase and the Java SDK.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
        <link rel="prev" href="overview.html">
        <link rel="next" href="../howtos/kv-operations.html">




                    <link rel="next" href="../howtos/kv-operations.html">

        
<meta name="dcterms.subject" content="java-sdk">
<meta name="dcterms.identifier" content="3.4">
<meta name="page-url" content="/java-sdk/3.4/hello-world/start-using-sdk.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://maria-robobug.github.io/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://maria-robobug.github.io/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="2">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/hello-world/pages/start-using-sdk.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="overview.html">Java SDK</a></li>
<li class="crumb">Getting Started</li>
<li class="crumb"><a href="start-using-sdk.html">Start Using the Java SDK</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Start Using the Java SDK</h1>
<div class="labels">
<ul><li class="tutorial"><span><i class="fas fa-book-reader"></i> tutorial</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
A quick start guide to get you up and running with Couchbase and the Java SDK.
</blockquote>
</div>
<div class="paragraph">
<p>The Couchbase Java client allows applications to access a Couchbase database.
It offers synchronous APIs as well as reactive and asynchronous equivalents to maximize flexibility and performance.</p>
</div>
<div class="paragraph">
<p>In this guide, you will learn:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How to <a href="#connect">connect to Couchbase Capella or Couchbase Server</a>.</p>
</li>
<li>
<p>How to <a href="#add-and-retrieve-documents">add and retrieve Documents</a>.</p>
</li>
<li>
<p>How to <a href="#sql-lookup">lookup documents</a> with the <a href="https://www.couchbase.com/products/n1ql">SQL++ (formerly N1QL)</a> query language.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hello-couchbase"><a class="anchor" href="#hello-couchbase"></a>Hello Couchbase</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We will go through the code sample step by step, but for those in a hurry to see it, here it is:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_couchbase-capella-sample"></a>Couchbase Capella Sample</p>
</li>
<li>
<p><a id="tabset1_local-couchbase-server"></a>Local Couchbase Server</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_couchbase-capella-sample">
<div class="paragraph">
<p>If you are connecting to <a href="https://docs.couchbase.com/cloud/index.html">Couchbase Capella</a>, be sure to get the correct endpoint as well as user, password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java#L2-L84">import static com.couchbase.client.java.query.QueryOptions.queryOptions;

import com.couchbase.client.core.env.SecurityConfig;
import com.couchbase.client.java.*;
import com.couchbase.client.java.env.ClusterEnvironment;
import com.couchbase.client.java.kv.*;
import com.couchbase.client.java.json.*;
import com.couchbase.client.java.query.*;

import java.time.Duration;

import static com.couchbase.client.java.query.QueryOptions.queryOptions;


public class StartUsingCloud {
  // Update these variables to point to your Couchbase Capella instance and credentials.
  static String connectionString = "cb.5lql7zxho580-tyt.cloud.couchbase.com";
  static String username = "username";
  static String password = "Password!123";
  static String bucketName = "travel-sample";

  public static void main(String... args) {
    // Simple connection with TLS enabled.
    Cluster cluster = Cluster.connect("couchbases://" + connectionString, username, password);
    cluster.disconnect();

    // Custom environment connection with TLS enabled.
    ClusterEnvironment env = ClusterEnvironment.builder()
            .securityConfig(SecurityConfig.enableTls(true))
            // Sets a pre-configured profile called "wan-development" to help avoid latency issues
            // when accessing Capella from a different Wide Area Network
            // or Availability Zone (e.g. your laptop).
            .applyProfile("wan-development")
            .build();

    cluster = Cluster.connect(
            connectionString,
            ClusterOptions.clusterOptions(username, password).environment(env)
    );

    // Get a bucket reference
    Bucket bucket = cluster.bucket(bucketName);
    bucket.waitUntilReady(Duration.ofSeconds(10));

    // Get a user defined collection reference
    Scope scope = bucket.scope("tenant_agent_00");
    Collection collection = scope.collection("users");

    // Upsert Document
    MutationResult upsertResult = collection.upsert(
            "my-document",
            JsonObject.create().put("name", "mike")
    );

    // Get Document
    GetResult getResult = collection.get("my-document");
    String name = getResult.contentAsObject().getString("name");
    System.out.println(name); // name == "mike"

    // Call the query() method on the scope object and store the result.
    Scope inventoryScope = bucket.scope("inventory");
    QueryResult result = inventoryScope.query("SELECT * FROM airline WHERE id = 10;");

    // Return the result rows with the rowsAsObject() method and print to the terminal.
    System.out.println(result.rowsAsObject());
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Couchbase Capella free trial version comes with the Travel Sample Bucket, and its Query indexes, loaded and ready.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_local-couchbase-server">
<div class="listingblock try-it">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/hello-world/examples/StartUsing.java">import com.couchbase.client.core.env.SecurityConfig;
import com.couchbase.client.java.*;
import com.couchbase.client.java.env.ClusterEnvironment;
import com.couchbase.client.java.kv.*;
import com.couchbase.client.java.json.*;
import com.couchbase.client.java.query.*;

import java.nio.file.Paths;
import java.time.Duration;

public class StartUsing {
  // Update these variables to point to your Couchbase Server instance and credentials.
  static String connectionString = "localhost";
  static String username = "Administrator";
  static String password = "password";
  static String bucketName = "travel-sample";

  public static void main(String... args) {
    Cluster cluster = Cluster.connect("couchbase://" + connectionString, username, password);
    cluster.disconnect();

    ClusterEnvironment env = ClusterEnvironment.builder()
            // Customize client settings by calling methods on the builder.
            // For example, you can enable TLS with the code below:
            // .securityConfig(SecurityConfig.enableTls(true).trustCertificate(Paths.get("/path/to/cluster.cert")))
            .build();

    cluster = Cluster.connect(
            connectionString,
            ClusterOptions.clusterOptions(username, password).environment(env)
    );
    
    // get a bucket reference
    Bucket bucket = cluster.bucket(bucketName);
    bucket.waitUntilReady(Duration.parse("PT10S")) ;

    // get a user defined collection reference
    Scope scope = bucket.scope("tenant_agent_00");
    Collection collection = scope.collection("users");

    // Upsert Document
    MutationResult upsertResult = collection.upsert(
            "my-document",
            JsonObject.create().put("name", "mike")
    );

    // Get Document
    GetResult getResult = collection.get("my-document");
    String name = getResult.contentAsObject().getString("name");
    System.out.println(name); // name == "mike"

    // Call the query() method on the scope object and store the result.
    Scope inventoryScope = bucket.scope("inventory");
    QueryResult result = inventoryScope.query("SELECT * FROM airline WHERE id = 10;");
    
    // Return the result rows with the rowsAsObject() method and print to the terminal.
    System.out.println(result.rowsAsObject());
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As well as the Java SDK (see below), and a running instance of Couchbase Server, you will need to load up the Travel Sample Bucket
using either the <a href="../../../server/7.1/manage/manage-settings/install-sample-buckets.html#install-sample-buckets-with-the-ui" class="xref page">Web interface</a>
or the <a href="../../../server/7.1/manage/manage-settings/install-sample-buckets.html#install-sample-buckets-with-the-cli" class="xref page">command line</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-installation"><a class="anchor" href="#quick-installation"></a>Quick Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We recommend running the latest Java LTS version (i.e. at the time of writing JDK 17) with the highest patch version available.
Couchbase publishes all stable artifacts to <a href="https://search.maven.org/search?q=com.couchbase.client">Maven Central</a>.</p>
</div>
<div class="paragraph">
<p>The latest version (as of October 2022) is <a href="https://search.maven.org/artifact/com.couchbase.client/java-client/3.4.0/jar">3.4.0</a>.</p>
</div>
<div class="paragraph">
<p>You can use your favorite dependency management tool to install the SDK.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_maven"></a>Maven</p>
</li>
<li>
<p><a id="tabset2_gradle"></a>Gradle</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_maven">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.couchbase.client&lt;/groupId&gt;
        &lt;artifactId&gt;java-client&lt;/artifactId&gt;
        &lt;version&gt;3.4.0&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_gradle">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">implementation 'com.couchbase.client:java-client:3.4.0'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>See the <a href="../project-docs/sdk-full-installation.html" class="xref page">installation page</a> for more detailed instructions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following code samples assume:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_couchbase-capella"></a>Couchbase Capella</p>
</li>
<li>
<p><a id="tabset3_local-couchbase-server"></a>Local Couchbase Server</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_couchbase-capella">
<div class="ulist">
<ul>
<li>
<p>You have signed up to <a href="https://cloud.couchbase.com/sign-up">Couchbase Capella</a>.</p>
</li>
<li>
<p>You have created your own bucket, or loaded the Travel Sample dataset.
Note, the Travel Sample dataset is installed automatically by the Capella free trial.</p>
</li>
<li>
<p>A user is created with permissions to access the cluster (at least Application Access permissions).
See the <a href="../../../cloud/get-started/cluster-and-data.html#credentials" class="xref page">Capella connection page</a> for more details.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Couchbase Capella uses <a href="../../../cloud/organizations/organization-projects-overview.html" class="xref page">Roles</a> to control user access to database resources.
For the purposes of this guide, you can use the <strong>Organization Owner</strong> role automatically assigned to your account during installation of the Capella cluster.
In a production scenario, we strongly recommend setting up users with more granular access roles as a best practice.
</td>
</tr>
</table>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_local-couchbase-server">
<div class="ulist">
<ul>
<li>
<p><a href="#7.1@server:getting-started/do-a-quick-install.adoc" class="xref unresolved">Couchbase Server</a> is installed and accessible locally.</p>
</li>
<li>
<p>You have created your own bucket, or loaded the Travel Sample dataset using the <a href="../../../server/7.1/manage/manage-settings/install-sample-buckets.html#install-sample-buckets-with-the-ui" class="xref page">Web interface</a>.</p>
</li>
<li>
<p>A user is created with permissions to access your cluster (at least Application Access permissions).
See <a href="../../../server/7.1/manage/manage-security/manage-users-and-roles.html" class="xref page">Manage Users, Groups and Roles</a> for more details.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Couchbase Server uses <a href="../../../server/7.1/learn/security/roles.html" class="xref page">Role Based Access Control (RBAC)</a> to control access to resources.
In this guide we suggest using the <strong>Full Admin</strong> role created during setup of your local Couchbase Server cluster.
For production client code, you will want to use more appropriate, restrictive settings.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-by-step"><a class="anchor" href="#step-by-step"></a>Step by Step</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are all the imports needed to run the sample code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java">import static com.couchbase.client.java.query.QueryOptions.queryOptions;

import com.couchbase.client.core.env.SecurityConfig;
import com.couchbase.client.java.*;
import com.couchbase.client.java.env.ClusterEnvironment;
import com.couchbase.client.java.kv.*;
import com.couchbase.client.java.json.*;
import com.couchbase.client.java.query.*;

import java.time.Duration;

import static com.couchbase.client.java.query.QueryOptions.queryOptions;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you haven&#8217;t already, create an empty class and add a <code>main()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class YourClassName {
    public static void main(String... args) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure to replace <code>YourClassName</code> with your own class name.</p>
</div>
<div class="paragraph">
<p>Above the <code>main()</code> method, add the following variables and update them accordingly:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset4_couchbase-capella"></a>Couchbase Capella</p>
</li>
<li>
<p><a id="tabset4_local-couchbase-server"></a>Local Couchbase Server</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset4_couchbase-capella">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java">// Update these variables to point to your Couchbase Capella instance and credentials.
static String connectionString = "cb.5lql7zxho580-tyt.cloud.couchbase.com";
static String username = "username";
static String password = "Password!123";
static String bucketName = "travel-sample";</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_local-couchbase-server">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/hello-world/examples/StartUsing.java">// Update these variables to point to your Couchbase Server instance and credentials.
static String connectionString = "localhost";
static String username = "Administrator";
static String password = "password";
static String bucketName = "travel-sample";</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In the following sections we will populate the <code>main()</code> method.</p>
</div>
<div class="sect2">
<h3 id="connect"><a class="anchor" href="#connect"></a>Connect</h3>
<div class="paragraph">
<p>Connect to your cluster by calling the <code>Cluster.connect()</code> method and pass it your connection details.
The basic connection details that you’ll need are given below&#8201;&#8212;&#8201;for more background information, see <a href="../howtos/managing-connections.html" class="xref page">Managing Connections</a>.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset5_couchbase-capella"></a>Couchbase Capella</p>
</li>
<li>
<p><a id="tabset5_local-couchbase-server"></a>Local Couchbase Server</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset5_couchbase-capella">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java">// Simple connection with TLS enabled.
Cluster cluster = Cluster.connect("couchbases://" + connectionString, username, password);</code></pre>
</div>
</div>
<div class="paragraph">
<p>From version 3.3, the Java SDK includes Capella’s standard certificates by default, so you don&#8217;t need any additional configuration.
You do need to enable TLS, which can be done by simply using <code>couchbases://</code> in the connection string as in this example.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can use a <a href="../howtos/managing-connections.html#cluster-environment" class="xref page">Cluster Environment</a> when you need to customize the client’s behavior (e.g. changing connection timeout settings).
You will also need to enable TLS, but in this case using a <code>SecurityConfig</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java">// Custom environment connection with TLS enabled.
ClusterEnvironment env = ClusterEnvironment.builder()
        .securityConfig(SecurityConfig.enableTls(true))
        // Sets a pre-configured profile called "wan-development" to help avoid latency issues
        // when accessing Capella from a different Wide Area Network
        // or Availability Zone (e.g. your laptop).
        .applyProfile("wan-development")
        .build();

cluster = Cluster.connect(
        connectionString,
        ClusterOptions.clusterOptions(username, password).environment(env)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>When accessing Capella from a different Wide Area Network or Availability Zone, you may experience latency issues with the default connection settings.
SDK 3.4 introduces a <code>wan-development</code> Configuration Profile, which provides pre-configured timeout settings suitable for working in high latency environments.
Its basic usage is shown in the example above, but if you want to learn more see <a href="../ref/client-settings.html#constrained-network-environments" class="xref page">Constrained Network Environments</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_local-couchbase-server">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/hello-world/examples/StartUsing.java">Cluster cluster = Cluster.connect("couchbase://" + connectionString, username, password);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re developing client code on the same VM or machine as the Couchbase Server, you can just set the <code>connectionString</code> variable to equal <code>localhost</code>.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can use a <a href="../howtos/managing-connections.html#cluster-environment" class="xref page">Cluster Environment</a> when you need to customize the client’s behavior (e.g. changing connection timeout settings).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/hello-world/examples/StartUsing.java">ClusterEnvironment env = ClusterEnvironment.builder()
        // Customize client settings by calling methods on the builder.
        // For example, you can enable TLS with the code below:
        // .securityConfig(SecurityConfig.enableTls(true).trustCertificate(Paths.get("/path/to/cluster.cert")))
        .build();

cluster = Cluster.connect(
        connectionString,
        ClusterOptions.clusterOptions(username, password).environment(env)
);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Following successful authentication, add this code snippet to access your <code>Bucket</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java#L51-L53">// Get a bucket reference
Bucket bucket = cluster.bucket(bucketName);
bucket.waitUntilReady(Duration.ofSeconds(10));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="add-and-retrieve-documents"><a class="anchor" href="#add-and-retrieve-documents"></a>Add and Retrieve Documents</h3>
<div class="paragraph">
<p>The Java SDK supports full integration with the <a href="../../../server/7.1/learn/data/scopes-and-collections.html" class="xref page">Collections</a> feature introduced in Couchbase Server 7.0.
<strong>Collections</strong> allow documents to be grouped by purpose or theme, according to a specified <strong>Scope</strong>.</p>
</div>
<div class="paragraph">
<p>Here we refer to the <code>users</code> collection within the <code>tenant_agent_00</code> scope from the Travel Sample bucket as an example, but you may replace this with your own data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java#L57-L59">// Get a user defined collection reference
Scope scope = bucket.scope("tenant_agent_00");
Collection collection = scope.collection("users");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="../howtos/kv-operations.html" class="xref page">Data operations</a>, like storing and retrieving documents, can be done using simple methods on the <code>Collection</code> class such as <code>Collection.get()</code> and <code>Collection.upsert()</code>.</p>
</div>
<div class="paragraph">
<p>Add the following code to create a new document and retrieve it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java#L63-L72">// Upsert Document
MutationResult upsertResult = collection.upsert(
        "my-document",
        JsonObject.create().put("name", "mike")
);

// Get Document
GetResult getResult = collection.get("my-document");
String name = getResult.contentAsObject().getString("name");
System.out.println(name); // name == "mike"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sql-lookup"><a class="anchor" href="#sql-lookup"></a>SQL++ Lookup</h3>
<div class="paragraph">
<p>Couchbase SQL++ queries can be performed at the <code>Cluster</code> or <code>Scope</code> level by invoking <code>Cluster.query()</code> or <code>Scope.query()</code>.</p>
</div>
<div class="paragraph">
<p>Cluster level queries require you to specify the fully qualified keyspace each time (e.g. <code>travel-sample.inventory.airline</code>).
However, with a Scope level query you only need to specify the Collection name&#8201;&#8212;&#8201;which in this case is <code>airline</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-java//modules/devguide/examples/StartUsingCloud.java#L76-L81">// Call the query() method on the scope object and store the result.
Scope inventoryScope = bucket.scope("inventory");
QueryResult result = inventoryScope.query("SELECT * FROM airline WHERE id = 10;");

// Return the result rows with the rowsAsObject() method and print to the terminal.
System.out.println(result.rowsAsObject());</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can learn more about SQL++ queries on the <a href="../howtos/n1ql-queries-with-sdk.html" class="xref page">Query</a> page.</p>
</div>
</div>
<div class="sect2">
<h3 id="execute"><a class="anchor" href="#execute"></a>Execute!</h3>
<div class="paragraph">
<p>Now that you&#8217;ve completed all the steps, run the example via your IDE or through the command line.
You should expect to see the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">mike
[{"airline":{"country":"United States","iata":"Q5","name":"40-Mile Air","callsign":"MILE-AIR","icao":"MLA","id":10,"type":"airline"}}]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="next-steps"><a class="anchor" href="#next-steps"></a>Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now you&#8217;re up and running, try one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Our <a href="sample-application.html" class="xref page">Travel Sample Application</a> demonstrates all the basics you need to know;</p>
</li>
<li>
<p>Explore <a href="../howtos/kv-operations.html" class="xref page">Data Operations</a> against a document database;</p>
</li>
<li>
<p>Or <a href="../howtos/n1ql-queries-with-sdk.html" class="xref page">Query</a> with our SQL++ query language;</p>
</li>
<li>
<p>Or read up on <a href="../concept-docs/data-services.html" class="xref page">which service fits your use case</a>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="additional-resources"><a class="anchor" href="#additional-resources"></a>Additional Resources</h3>
<div class="paragraph">
<p>The API reference is generated for each release and the latest can be found <a href="http://docs.couchbase.com/sdk-api/couchbase-java-client/">here</a>.
Older API references are linked from their respective sections in the <a href="../project-docs/sdk-release-notes.html" class="xref page">Release Notes</a>.</p>
</div>
<div class="paragraph">
<p>Couchbase welcomes community contributions to the Java SDK.
The Java SDK source code is available on <a href="https://github.com/couchbaselabs/couchbase-jvm-clients">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>If you are planning to use Spring Data Couchbase, see the <a href="../project-docs/compatibility.html#spring-compat" class="xref page">notes on version compatibility</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>Troubleshooting</h3>
<div class="ulist">
<ul>
<li>
<p>Couchbase Server is designed to work in the same WAN or availability zone as the client application.
If you&#8217;re running the SDK on your laptop against a Capella cluster, see further information on:</p>
<div class="ulist">
<ul>
<li>
<p>Notes on <a href="../ref/client-settings.html#constrained-network-environments" class="xref page">Constrained Network Environments</a>.</p>
</li>
<li>
<p><a href="../project-docs/compatibility.html#network-requirements" class="xref page">Network Requirements</a>.</p>
</li>
<li>
<p>If you have a consumer-grade router which has problems with DNS-SRV records review our <a href="../howtos/troubleshooting-cloud-connections.html#troubleshooting-host-not-found" class="xref page">Troubleshooting Guide</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Our <a href="https://forums.couchbase.com/c/java-sdk/5">community forum</a> is a great source of help.</p>
</li>
</ul>
</div>
</div>
</div>
</div>

        <nav class="pagination">

                <span>&nbsp;</span>
        
                    <span class="next"><a href="../howtos/kv-operations.html">Data Operations</a></span>

</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"SDKs","components":["dotnet-sdk","go-sdk","java-sdk","kotlin-sdk","nodejs-sdk","ruby-sdk"],"url":"/home/sdk.html","latestVersions":{"dotnet-sdk":"3.4","go-sdk":"2.6","java-sdk":"3.4","kotlin-sdk":"1.1","nodejs-sdk":"4.2","ruby-sdk":"3.4"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
