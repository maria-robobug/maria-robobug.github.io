<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Couchbase Scopes and Collections | Couchbase Docs (Local)</title>
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="operator">
<meta name="dcterms.identifier" content="2.3-beta">
<meta name="page-url" content="/operator/2.3-beta/concept-scopes-and-collections.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://maria-robobug.github.io/home/index.html">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://maria-robobug.github.io/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../cloud-native-database/index.html">
                      Cloud-Native
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/mariashodunke/Couchbase/docs/couchbase-operator/docs/user/modules/ROOT/pages/concept-scopes-and-collections.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="overview.html">Autonomous Operator</a></li>
<li class="crumb">Learn</li>
<li class="crumb">Couchbase Cluster Concepts</li>
<li class="crumb">Data Management</li>
<li class="crumb"><a href="concept-scopes-and-collections.html">Couchbase Scopes and Collections</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Couchbase Scopes and Collections</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
From Couchbase Server 7 onward, all data and indexes belong to collections, collections are then grouped into scopes, and scopes belong to buckets.
This page describes how this hierarchical data management works and how it is managed by the Operator.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This documentation refers to a Couchbase Server feature, particularly how it is represented by the Operator, and is accurate at the time of writing.
Couchbase server may evolve over time, so consult the <a href="#server:learn:data/scopes-and-collections.html" class="xref unresolved">official documentation</a> for up to date configuration limits and more detailed information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Consider the following conceptual diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/collections-overview.png" alt="collections overview">
</div>
<div class="title">Figure 1. Scopes and Collections Overview</div>
</div>
<div class="sect2">
<h3 id="collections"><a class="anchor" href="#collections"></a>Collections</h3>
<div class="paragraph">
<p>The finest-grained entity in a Couchbase cluster is the collection.
A collection is&#8201;&#8212;&#8201;as it sounds&#8201;&#8212;&#8201;a collection of documents.
Collections should be logical groupings of similar document types e.g. users, products, etc.
This makes the logical organization of data far simpler than in versions of Couchbase Server prior to 7.
Couchbase server currently supports up to 1000 collections per cluster.</p>
</div>
<div class="paragraph">
<p>Collections also contain indexes that apply to the collection&#8217;s documents.
As indexes are specific to a collection, and a small subset of all documents on the system, this allows for higher performance and massive scalability of indexes.
Couchbase server currently supports up to 10,000 indexes per cluster.</p>
</div>
<div class="paragraph">
<p>Collections enable fine-grain access control, and fine grain data replication with cross-datacenter replication (XDCR).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Legacy Behavior with Default Collections</div>
<div class="paragraph">
<p>To maintain the legacy behavior of Couchbase Server versions prior to 7, there is the concept of a default collection.
A default collection belongs to the default scope of a bucket.
Couchbase clients such as cross-datacenter replication (XDCR) and SDKs will transparently make use of a default scope and collection without any client-side configuration changes.</p>
</div>
<div class="paragraph">
<p>A default collection cannot be modified, inheriting the configuration from the underlying bucket to maintain legacy behavior.</p>
</div>
<div class="paragraph">
<p>A default collection can be deleted, but cannot be recreated.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="scopes"><a class="anchor" href="#scopes"></a>Scopes</h3>
<div class="paragraph">
<p>A scope is simply a single-tier namespace for a group of collections to exist within.
Collections within a scope must all have unique names, but collections in different scopes may share the same name.
This property allows multi-tenancy.</p>
</div>
<div class="paragraph">
<p>For example, consider a white-box website that requires all the same collections to function.
You can use scopes to define data collections with fixed names across all brands, while also allowing brand-specific configuration.
Therefore it&#8217;s possible to create "cookie-cutter" websites with minimal modification to the client code, all that is required is to define what scope to use.</p>
</div>
<div class="paragraph">
<p>Scopes, and by extension multi-tenancy in general, allow high data density by aggregating multiple applications into a single database.
To aid in this, scopes can define coarser-grain access control, and data replication, than collections.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Legacy Behavior with Default Scopes</div>
<div class="paragraph">
<p>Like collections, there is the concept of a default scope to maintain legacy behavior.
Every bucket gets a default scope, and every default scope a default collection.</p>
</div>
<div class="paragraph">
<p>The default scope is permanent, and cannot be deleted.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="buckets"><a class="anchor" href="#buckets"></a>Buckets</h3>
<div class="paragraph">
<p>Buckets are the coarsest-grain data management entity.
They may be used in a similar fashion to scopes by providing an additional layer of multi-tenant abstraction, however only a relatively limited number are supported.</p>
</div>
<div class="paragraph">
<p>Buckets act as namespaces, in the same manner as scopes.
Buckets can also define coarse-grain access control and replication rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-precedence"><a class="anchor" href="#configuration-precedence"></a>Configuration Precedence</h3>
<div class="paragraph">
<p>In general, configuration applied to a bucket will be inherited by all the scopes and collections contained within, thus legacy applications using the default scope and collection, will continue to function with any RBAC or XDCR rules applied to buckets.</p>
</div>
<div class="paragraph">
<p>Where allowed, the most specific configuration will take precedence.
For example, you can set the maximum time-to-live on documents at the bucket, and at the collection.
As the collection is the finest-grained entity, it is the most specific, and so its time-to-live will be selected for documents in that collection.</p>
</div>
<div class="paragraph">
<p>Role-based access control is additive, so a role granted to a user at the bucket, will also apply to a collection within that bucket.
Additional roles can be assigned to the user at the scope and collection level to provide escalated privilege.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="operator-data-model"><a class="anchor" href="#operator-data-model"></a>Operator Data Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unsurprisingly&#8201;&#8212;&#8201;given the hierarchical nature of buckets, scopes and collections&#8201;&#8212;&#8201;the Operator models the topology with a directed graphs, or a forest of trees:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/collections-forest.png" alt="collections forest">
</div>
<div class="title">Figure 2. Operator Forest Data Model</div>
</div>
<div class="paragraph">
<p>In this model, buckets refer to their set of desired scopes, and scopes to their set of desired collections.</p>
</div>
<div class="paragraph">
<p>There are two methods provided for one node to reference its children:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Explicit reference</dt>
<dd>
<p>A bucket can directly reference a named scope resource, and a scope can directly reference a named collection resource.
This is by far the easiest referencing method to understand, however when referencing hundreds of individual resources, the configuration can become quite unwieldy.</p>
</dd>
<dt class="hdlist1">Implicit reference</dt>
<dd>
<p>A bucket can reference scopes, and scopes can reference collections implicitly with <a href="concept-label-selection.html" class="xref page">Kubernetes label selection</a>.
Being able to mentally picture the relationship between tree nodes is difficult, however the configuration is greatly simplified in that a single selector can reference many resources.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Unlike the label selection that is used to select buckets by a <code>CouchbaseCluster</code> resource&#8201;&#8212;&#8201;as described in the <a href="concept-label-selection.html" class="xref page">Kubernetes label selection</a>, implicit referencing of scopes and collections defaults to "select nothing", rather than "select everything".</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Both methods can be used at the same time if you so desire.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The remainder of this page will use explicit resource references due to clarity, however the two methods can be used interchangeably and yield the same result.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="resource-grouping"><a class="anchor" href="#resource-grouping"></a>Resource Grouping</h3>
<div class="paragraph">
<p>As previously discussed in the <a href="#overview">scopes and collections overview</a>, Couchbase Server can support up to 1000 collections.
Using the basic data model as outlined above could potentially result in over 1000 resources to manage.</p>
</div>
<div class="paragraph">
<p>Not only is managing such a large number of resources difficult and error prone, but it also places a great strain on the Kubernetes control plane.
For these reasons, we support&#8201;&#8212;&#8201;indeed recommend&#8201;&#8212;&#8201;the use of resource groups:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/collections-grouping.png" alt="collections grouping">
</div>
<div class="title">Figure 3. Operator Resource Grouping</div>
</div>
<div class="paragraph">
<p>In the above example we have depicted four collections, however this could be any number.
The Operator provides a collection group resource that allows the individual collections to be coalesced into a single resource.</p>
</div>
<div class="paragraph">
<p>Resource groups act like a template that is expanded at runtime.
Internally, the Operator will take a collection group and expand it into a number of individual collections, each with a unique name&#8201;&#8212;&#8201;as defined by the collection group&#8201;&#8212;&#8201;and a set of common configuration parameters.</p>
</div>
<div class="paragraph">
<p>It is important to note that due to shared configuration, collection groups can only be used where all collections in the group are intended to have the same configuration.</p>
</div>
<div class="paragraph">
<p>Due to the flexibility of the data model, a scope can reference multiple collections, and collection groups at the same time.
The collection groups can be used to define configuration shared among a subset of collections in a scope, with minimal configuration.</p>
</div>
<div class="paragraph">
<p>Resource groups can also form the basis of role-based access control rules, defining security boundaries.</p>
</div>
<div class="paragraph">
<p>While we&#8217;ve only illustrated the use of collection groups, the Operator also provides scope groups too that act in a similar fashion.
This leads us on to resource sharing&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-sharing"><a class="anchor" href="#resource-sharing"></a>Resource Sharing</h3>
<div class="paragraph">
<p>Consider the following progression:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/collections-collection-sharing.png" alt="collections collection sharing">
</div>
<div class="title">Figure 4. Operator Scope Grouping and Collection Sharing</div>
</div>
<div class="paragraph">
<p>This depicts how the Operator would internally act upon a scope group, with a referenced collection group:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The first step shows the very terse configuration, we only require 3 resources to define this entire topology.</p>
</li>
<li>
<p>The next step shows the configuration after scope group expansion.
What&#8217;s important to note here, is like collection groups, the configuration is shared by all instances of the scope group expansion, in particular the collection group.</p>
</li>
<li>
<p>The final step shows what the scopes and collections topology would look like in Couchbase Server.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In every step, the configuration is completely valid, and can be represented by Couchbase custom resource types.</p>
</div>
<div class="paragraph">
<p>The most interesting step is number two.
Here we are showing that resources can be written once, and then shared between parent resources by simply referencing them.</p>
</div>
<div class="paragraph">
<p>This particular model is the <em>shared-collection model</em>, and fits nicely into the multi-tenancy use-case discussed in the <a href="#scopes">scopes overview</a>.
We have defined a common set of collections (e.g. users, products, orders), that can be used by multiple scopes (e.g. brand 1, brand 2), and therefore you only need to write one group of collections and one client application in order to have multiple branded instances of the same application.
The only modification that needs to be made by each client instance is to specify the scope to use.</p>
</div>
<div class="paragraph">
<p>It follows that the Operator also allows sharing of scopes by buckets:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/collections-scope-sharing.png" alt="collections scope sharing">
</div>
<div class="title">Figure 5. Operator Scope Sharing</div>
</div>
<div class="paragraph">
<p>In this example, the illustrated scope is shared by multiple buckets.
The end result is that each bucket contains the same set of scopes with the same sets of collections.
This model is the <em>shared-scope model</em>.</p>
</div>
<div class="paragraph">
<p>It is very similar to the <em>shared-collection model</em>, but conceptually, it has a second layer of data organization and namespacing provided by the bucket.
Again, this supports a multi-tenancy model.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="operator-configuration"><a class="anchor" href="#operator-configuration"></a>Operator Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following shows how collections are configured:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: couchbase.com/v2
kind: CouchbaseCollectionGroup
metadata:
  name: my-collection-group <i class="conum" data-value="1"></i><b>(1)</b>
spec:
  names: <i class="conum" data-value="2"></i><b>(2)</b>
  - collection1
  - collection2</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the resource in Kubernetes.
This is the name explicitly referenced by a parent node.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>For a resource group, the Kubernetes resource name plays no part in Couchbase configuration.
Instead an explicit list of resource names, in this case corresponding to Couchbase collection names must be specified.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following shows how scopes are configured to reference collections:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: couchbase.com/v2
kind: CouchbaseScope
metadata:
  name: my-scope <i class="conum" data-value="1"></i><b>(1)</b>
spec:
  name: special$name <i class="conum" data-value="2"></i><b>(2)</b>
  defaultScope: false <i class="conum" data-value="3"></i><b>(3)</b>
  collections:
    managed: true <i class="conum" data-value="4"></i><b>(4)</b>
    preserveDefaultCollection: false <i class="conum" data-value="5"></i><b>(5)</b>
    resources: <i class="conum" data-value="6"></i><b>(6)</b>
    - kind: CouchbaseCollectionGroup <i class="conum" data-value="7"></i><b>(7)</b>
      name: my-collection-group</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the resource in Kubernetes.
This is the name explicitly referenced by a parent node.
This is also the default collection name in Couchbase.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If specified, the specification name overrides the default resource name as the Couchbase collection name.
This allows the use of characters valid for Couchbase collection names, that are not valid Kubernetes resource names.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>If set to <code>true</code>, this scope represents the default scope.
Internally, this will ignore any <em>name</em> field, and use the internal default name.
The default scope can only be defined as a single scope, not with a scope group.
Internally all, buckets will have a default scope associated with them if one is not specified.
The implicit default scope will not be managed.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Control over collection management is opt in.
If set to <code>true</code> then the Operator will create and delete collections as referenced by the explicit resources, or the label selector.
If set to <code>false</code> then the Operator will make no attempt to manage collections within this scope, allowing explicit control by the end user.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>When collections are managed, and this is the default scope, then this controls whether the default collection should be kept-alive or not.
If set to <code>true</code> then it will be preserved.
If set to <code>false</code> then it will be permanently deleted.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>This defines a list of referenced collection resources.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Resources are referenced by resource kind&#8201;&#8212;&#8201;which may be <code>CouchbaseCollection</code> or <code>CouchbaseCollectionGroup</code>&#8201;&#8212;&#8201;and the Kubernetes resource name.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following shows how buckets are configured to reference scopes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: couchbase.com/v2
kind: CouchbaseBucket
metadata:
  name: my-bucket
spec:
  scopes:
    managed: true <i class="conum" data-value="1"></i><b>(1)</b>
    resources: <i class="conum" data-value="2"></i><b>(2)</b>
    - kind: CouchbaseScope <i class="conum" data-value="3"></i><b>(3)</b>
      name: my-scope</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Control over scope management is opt in.
If set to <code>true</code> then the Operator will create and delete scopes as referenced by the explicit resources, or the label selector.
If set to <code>false</code> then the Operator will make no attempt to manage scopes within this bucket, allowing explicit control by the end user.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This defines a list of referenced scope resources.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Resources are referenced by resource kind&#8201;&#8212;&#8201;which may be <code>CouchbaseScope</code> or <code>CouchbaseScopeGroup</code>&#8201;&#8212;&#8201;and the Kubernetes resource name.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="further-reading"><a class="anchor" href="#further-reading"></a>Further Reading</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="resource/couchbasescope.html" class="xref page"><code>CouchbaseScope</code> resource reference</a></p>
</li>
<li>
<p><a href="resource/couchbasescopegroup.html" class="xref page"><code>CouchbaseScopeGroup</code> resource reference</a></p>
</li>
<li>
<p><a href="resource/couchbasecollection.html" class="xref page"><code>CouchbaseCollection</code> resource reference</a></p>
</li>
<li>
<p><a href="resource/couchbasecollectiongroup.html" class="xref page"><code>CouchbaseCollectionGroup</code> resource reference</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>Â© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Autonomous Operator","components":["operator"],"latestVersions":{"operator":"2.3-beta"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/site.js"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
