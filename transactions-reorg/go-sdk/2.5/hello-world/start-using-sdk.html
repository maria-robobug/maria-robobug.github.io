<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Install and Start Using the Go SDK with Couchbase Server | Couchbase Docs (Local)</title>
<link rel="canonical" href="https://maria-robobug.github.io/go-sdk/2.5/hello-world/start-using-sdk.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Installing the Couchbase Go SDK &amp;amp; a Hello World example program.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="go-sdk">
<meta name="dcterms.identifier" content="2.5">
<meta name="page-url" content="/go-sdk/2.5/hello-world/start-using-sdk.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://maria-robobug.github.io/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://maria-robobug.github.io/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud-native-database/index.html">
                      Cloud-Native
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="2">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/hello-world/pages/start-using-sdk.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="overview.html">Go SDK</a></li>
<li class="crumb">Getting Started</li>
<li class="crumb"><a href="start-using-sdk.html">Start Using the Go SDK</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Install and Start Using the Go SDK with Couchbase Server</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div class="sect1">
<h2 id="hello-couchbase"><a class="anchor" href="#hello-couchbase"></a>Hello Couchbase</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On this page we show you how to quickly get up and running&#8201;&#8212;&#8201;installing the Couchbase Go SDK, and trying out the Hello World code example against Couchbase Capella, or against a local Couchbase cluster.</p>
</div>
<div class="paragraph">
<p>We will go through the code sample step by step, but for those in a hurry to see it, here it is:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_couchbase-capella-sample"></a>Couchbase Capella Sample</p>
</li>
<li>
<p><a id="tabset1_local-couchbase-server"></a>Local Couchbase Server</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_couchbase-capella-sample">
<div class="paragraph">
<p>To connect to <a href="../../../cloud/index.html" class="xref page">Couchbase Capella</a>, be sure to get the correct endpoint as well as user, password and bucket name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-go hljs" data-lang="go" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go">package main

import (
	"fmt"
	"log"
	"time"

	"github.com/couchbase/gocb/v2"
)


func main() {
	// Uncomment following line to enable logging
	// gocb.SetLogger(gocb.VerboseStdioLogger())

	// Update this to your cluster details
	endpoint := "cb.&lt;your-endpoint&gt;.cloud.couchbase.com"
	bucketName := "travel-sample"
	username := "username"
	password := "Password123!"

	// Initialize the Connection
	cluster, err := gocb.Connect("couchbases://"+endpoint, gocb.ClusterOptions{
		Authenticator: gocb.PasswordAuthenticator{
			Username: username,
			Password: password,
		},
	})
	if err != nil {
		log.Fatal(err)
	}

	bucket := cluster.Bucket(bucketName)

	err = bucket.WaitUntilReady(5*time.Second, nil)
	if err != nil {
		log.Fatal(err)
	}

	// Get a reference to the default collection, required for older Couchbase server versions
	// col := bucket.DefaultCollection()

	col := bucket.Scope("tenant_agent_00").Collection("users")

	type User struct {
		Name      string   `json:"name"`
		Email     string   `json:"email"`
		Interests []string `json:"interests"`
	}

	// Create and store a Document
	_, err = col.Upsert("u:kingarthur",
		User{
			Name:      "Arthur",
			Email:     "kingarthur@couchbase.com",
			Interests: []string{"Holy Grail", "African Swallows"},
		}, nil)
	if err != nil {
		log.Fatal(err)
	}

	// Get the document back
	getResult, err := col.Get("u:kingarthur", nil)
	if err != nil {
		log.Fatal(err)
	}

	var inUser User
	err = getResult.Content(&amp;inUser)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("User: %v\n", inUser)

	// Perform a N1QL Query
	queryResult, err := cluster.Query(
		fmt.Sprintf("SELECT name FROM `%s` WHERE $1 IN interests", bucketName),
		&amp;gocb.QueryOptions{PositionalParameters: []interface{}{"African Swallows"}},
	)
	if err != nil {
		log.Fatal(err)
	}

	// Print each found Row
	for queryResult.Next() {
		var result interface{}
		err := queryResult.Row(&amp;result)
		if err != nil {
			log.Fatal(err)
		}
		fmt.Println(result)
	}

	if err := queryResult.Err(); err != nil {
		log.Fatal(err)
	}
}</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_local-couchbase-server">
<div class="listingblock try-it">
<div class="content">
<pre class="highlightjs highlight"><code class="language-go hljs" data-lang="go" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/hello-world/examples/startusing.go">package main

import (
	"crypto/x509"
	"fmt"
	"io/ioutil"
	"log"
	"time"

	"github.com/couchbase/gocb/v2"
)

func main() {
	// Uncomment following line to enable logging
	// gocb.SetLogger(gocb.VerboseStdioLogger())

	// Update this to your cluster details
	bucketName := "travel-sample"
	username := "Administrator"
	password := "password"

	p, err := ioutil.ReadFile("path/to/ca.pem")
	if err != nil {
		log.Fatal(err)
	}

	roots := x509.NewCertPool()
	roots.AppendCertsFromPEM(p)

	// Initialize the Connection
	cluster, err := gocb.Connect("couchbases://127.0.0.1", gocb.ClusterOptions{
		Authenticator: gocb.PasswordAuthenticator{
			Username: username,
			Password: password,
		},
		SecurityConfig: gocb.SecurityConfig{
			TLSRootCAs: roots,
			// WARNING: Do not set this to true in production, only use this for testing!
			// TLSSkipVerify: true,
		},
	})
	if err != nil {
		log.Fatal(err)
	}

	bucket := cluster.Bucket(bucketName)

	err = bucket.WaitUntilReady(5*time.Second, nil)
	if err != nil {
		log.Fatal(err)
	}

	// Get a reference to the default collection, required for older Couchbase server versions
	// col := bucket.DefaultCollection()

	col := bucket.Scope("tenant_agent_00").Collection("users")

	type User struct {
		Name      string   `json:"name"`
		Email     string   `json:"email"`
		Interests []string `json:"interests"`
	}

	// Create and store a Document
	_, err = col.Upsert("u:kingarthur",
		User{
			Name:      "Arthur",
			Email:     "kingarthur@couchbase.com",
			Interests: []string{"Holy Grail", "African Swallows"},
		}, nil)
	if err != nil {
		log.Fatal(err)
	}

	// Get the document back
	getResult, err := col.Get("u:kingarthur", nil)
	if err != nil {
		log.Fatal(err)
	}

	var inUser User
	err = getResult.Content(&amp;inUser)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("User: %v\n", inUser)

	// Perform a N1QL Query
	queryResult, err := cluster.Query(
		fmt.Sprintf("SELECT name FROM `%s` WHERE $1 IN interests", bucketName),
		&amp;gocb.QueryOptions{PositionalParameters: []interface{}{"African Swallows"}},
	)
	if err != nil {
		log.Fatal(err)
	}

	// Print each found Row
	for queryResult.Next() {
		var result interface{}
		err := queryResult.Row(&amp;result)
		if err != nil {
			log.Fatal(err)
		}
		fmt.Println(result)
	}

	if err := queryResult.Err(); err != nil {
		log.Fatal(err)
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As well as the Go SDK (see below), and a running instance of Couchbase Server, you will need to load up the Travel Sample Bucket
using either the <a href="../../../server/7.1/manage/manage-settings/install-sample-buckets.html#install-sample-buckets-with-the-ui" class="xref page">Web interface</a>
or the <a href="../../../server/7.1/manage/manage-settings/install-sample-buckets.html#install-sample-buckets-with-the-cli" class="xref page">command line</a>.</p>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The Couchbase Capella free trial version comes with the Travel Sample Bucket, and its Query indexes, loaded and ready.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-installation"><a class="anchor" href="#quick-installation"></a>Quick Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Version 2 of the Go SDK has added support for <a href="https://github.com/golang/go/wiki/Modules">Go Modules</a>.
You can use <code>go get</code> to download the SDK:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ go get github.com/couchbase/gocb/v2@v2.5.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>More details on installation can be found <a href="../project-docs/sdk-full-installation.html" class="xref page">here</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In line with the <a href="https://golang.org/doc/devel/release.html#policy">Golang project</a>, we support both the current, and the previous, versions of Go.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-by-step"><a class="anchor" href="#step-by-step"></a>Step by Step</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At this point we want to transition from the terminal to your code editor of choice.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now create an empty file named <code>main.go</code> and walk through adding code step-by-step:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connect to a single node cluster, bucket, and collection;</p>
</li>
<li>
<p>Add and retrieve a new document;</p>
</li>
<li>
<p>Look up (SQL-type query) the new document by attribute value.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h3>
<div class="paragraph">
<p>Here are all of the imports that you will need to run the sample code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go">package main

import (
	"fmt"
	"log"
	"time"

	"github.com/couchbase/gocb/v2"
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, create an empty <code>main()</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang">func main() {
	// add code here...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will update this function as we go along the steps in this guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="connection"><a class="anchor" href="#connection"></a>Connection</h3>
<div class="paragraph">
<p>The basic connection details that you&#8217;ll need are given below&#8201;&#8212;&#8201;for more background information, refer to the <a href="../howtos/managing-connections.html#connection-strings" class="xref page">Managing Connections page</a>.</p>
</div>
<div class="paragraph">
<p>In the <code>main()</code> function, add the following:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_couchbase-capella"></a>Couchbase Capella</p>
</li>
<li>
<p><a id="tabset2_local-couchbase-server"></a>Local Couchbase Server</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_couchbase-capella">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Couchbase Capella requires mandatory use of TLS (Transport Layer Security).
As of Go SDK version 2.5.0, the standard certificate required to connect to a Capella cluster is automatically included with no additional configuration.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L19-L34">// Update this to your cluster details
endpoint := "cb.&lt;your-endpoint&gt;.cloud.couchbase.com"
bucketName := "travel-sample"
username := "username"
password := "Password123!"

// Initialize the Connection
cluster, err := gocb.Connect("couchbases://"+endpoint, gocb.ClusterOptions{
	Authenticator: gocb.PasswordAuthenticator{
		Username: username,
		Password: password,
	},
})
if err != nil {
	log.Fatal(err)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Couchbase Capella uses <a href="../../../cloud/organizations/organization-projects-overview.html" class="xref page">Roles</a> to control user access to database resources.
For the purposes of this example, we can use the <em>Organization Owner</em> role automatically assigned to a user account during installation of the Capella cluster.
This role grants full access to a Capella organization, including full data access to all projects and clusters.
In a production scenario, we strongly recommend setting up users with more granular access roles as a best practice.</p>
</div>
<div class="paragraph">
<p>For the SDK client to access cluster data, you will need to set up credentials for your database by <a href="../../../cloud/get-started/cluster-and-data.html#credentials" class="xref page">following these steps</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_local-couchbase-server">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/hello-world/examples/startusing.go#L18-L45">// Update this to your cluster details
bucketName := "travel-sample"
username := "Administrator"
password := "password"

p, err := ioutil.ReadFile("path/to/ca.pem")
if err != nil {
	log.Fatal(err)
}

roots := x509.NewCertPool()
roots.AppendCertsFromPEM(p)

// Initialize the Connection
cluster, err := gocb.Connect("couchbases://127.0.0.1", gocb.ClusterOptions{
	Authenticator: gocb.PasswordAuthenticator{
		Username: username,
		Password: password,
	},
	SecurityConfig: gocb.SecurityConfig{
		TLSRootCAs: roots,
		// WARNING: Do not set this to true in production, only use this for testing!
		// TLSSkipVerify: true,
	},
})
if err != nil {
	log.Fatal(err)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Couchbase uses <a href="../../../server/7.1/learn/security/roles.html" class="xref page">Role Based Access Control (RBAC)</a> to control access to resources.
For the purposes of this example, we are connecting to Couchbase using the <em>Full Admin</em> role created during the installation of our Couchbase Server.</p>
</div>
<div class="paragraph">
<p>Couchbase RBAC is fully described in the <a href="../../../server/7.1/manage/manage-security/manage-users-and-roles.html" class="xref page">Manage Users, Groups, and Roles</a> page.</p>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Following successful authentication, the bucket can be opened:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L38-L43">bucket := cluster.Bucket(bucketName)

err = bucket.WaitUntilReady(5*time.Second, nil)
if err != nil {
	log.Fatal(err)
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We are working with the <a href="../../../server/7.1/manage/manage-settings/install-sample-buckets.html" class="xref page">travel-sample</a> data bucket.
If you are not, update the <code>bucketName</code> variable used in the example with your own.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The 2.5 SDK supports full integration with the <a href="../concept-docs/collections.html" class="xref page">Collections</a> feature introduced in Couchbase Server 7.0.
<em>Collections</em> allow documents to be grouped by purpose or theme, according to a specified <em>Scope</em>.
Here we will use the <code>users</code> collection within the <code>tenant_agent_00</code> scope from <code>travel-sample</code> bucket as an example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L47-L50">// Get a reference to the default collection, required for older Couchbase server versions
// col := bucket.DefaultCollection()

col := bucket.Scope("tenant_agent_00").Collection("users")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code shows how you would use a named collection and scope.
A named or default collection will provide the same functionality as bucket-level operations did in previous versions of Couchbase Server.</p>
</div>
<div class="paragraph">
<p>The <code>DefaultCollection</code> must be used when connecting to a 6.6 cluster or earlier.</p>
</div>
</div>
<div class="sect2">
<h3 id="document-addition-and-retrieval"><a class="anchor" href="#document-addition-and-retrieval"></a>Document Addition and Retrieval</h3>
<div class="paragraph">
<p>Let&#8217;s create a struct in our application that we can add to our <code>travel-sample</code> bucket that conforms to the structure of a document of type user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L54-L58">type User struct {
	Name      string   `json:"name"`
	Email     string   `json:"email"`
	Interests []string `json:"interests"`
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="../howtos/kv-operations.html" class="xref page">Document operations</a>, such as storing and retrieving documents, can be done using <code>Collection.Upsert()</code> and <code>Collection.Get()</code>.
Simply pass the key (and value, if applicable) to the relevant methods.</p>
</div>
<div class="paragraph">
<p>The following function will <em>upsert</em> a document into the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L62-L71">// Create and store a Document
_, err = col.Upsert("u:kingarthur",
	User{
		Name:      "Arthur",
		Email:     "kingarthur@couchbase.com",
		Interests: []string{"Holy Grail", "African Swallows"},
	}, nil)
if err != nil {
	log.Fatal(err)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s retrieve that document using a key-value operation.
The following function runs a get for a document key and logs out the result in our console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L75-L86">// Get the document back
getResult, err := col.Get("u:kingarthur", nil)
if err != nil {
	log.Fatal(err)
}

var inUser User
err = getResult.Content(&amp;inUser)
if err != nil {
	log.Fatal(err)
}
fmt.Printf("User: %v\n", inUser)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sql-lookup"><a class="anchor" href="#sql-lookup"></a>SQL++ Lookup</h3>
<div class="paragraph">
<p>Couchbase N1QL queries are performed by invoking <code>Cluster.Query()</code>.
In the code below we will query Couchbase to retrieve users with a particular interest and print the results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-golang hljs" data-lang="golang" data-source-url="file:///Users/mariashodunke/Couchbase/docs/docs-sdk-go//modules/devguide/examples/go/cloud.go#L90-L111">// Perform a N1QL Query
queryResult, err := cluster.Query(
	fmt.Sprintf("SELECT name FROM `%s` WHERE $1 IN interests", bucketName),
	&amp;gocb.QueryOptions{PositionalParameters: []interface{}{"African Swallows"}},
)
if err != nil {
	log.Fatal(err)
}

// Print each found Row
for queryResult.Next() {
	var result interface{}
	err := queryResult.Row(&amp;result)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Println(result)
}

if err := queryResult.Err(); err != nil {
	log.Fatal(err)
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="execute"><a class="anchor" href="#execute"></a>Execute!</h3>
<div class="paragraph">
<p>Now we can run our code using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ go run main.go</code></pre>
</div>
</div>
<div class="paragraph">
<p>The results you should expect are as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">User: {Arthur kingarthur@couchbase.com [Holy Grail African Swallows]}
map[name:Arthur]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="next-steps"><a class="anchor" href="#next-steps"></a>Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now you&#8217;re up and running, try one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Our <a href="sample-application.html" class="xref page">Travel Sample Application</a> demonstrates all the basics you need to know;</p>
</li>
<li>
<p>Explore <a href="../howtos/kv-operations.html" class="xref page">Key Value Operations</a> (CRUD) against a document database;</p>
</li>
<li>
<p>Or <a href="../howtos/n1ql-queries-with-sdk.html" class="xref page">Query</a> with our SQL-based N1QL language;</p>
</li>
<li>
<p>Or read up on <a href="../concept-docs/data-services.html" class="xref page">which service fits your use case</a>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="additional-resources"><a class="anchor" href="#additional-resources"></a>Additional Resources</h3>
<div class="paragraph">
<p>The API reference is generated for each release and can be found <a href="https://pkg.go.dev/github.com/couchbase/gocb/v2">here</a>.
Older API references are linked from their respective sections in the <a href="../project-docs/sdk-release-notes.html" class="xref page">Release Notes</a>.</p>
</div>
<div class="paragraph">
<p><a href="../project-docs/migrating-sdk-code-to-3.n.html" class="xref page">The Migrating from SDK2 API (Go 1.x) to API 3 page (Go 2.x SDK)</a> highlights the main differences to be aware of when migrating your code.</p>
</div>
<div class="paragraph">
<p>Couchbase welcomes community contributions to the Go SDK.
The Go SDK source code is available on <a href="https://github.com/couchbase/gocb">GitHub</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>Troubleshooting</h3>
<div class="ulist">
<ul>
<li>
<p>Couchbase Server is designed to work in the same WAN or availability zone as the client application.
If you&#8217;re running the SDK on your laptop against a Capella cluster, see further information on:</p>
<div class="ulist">
<ul>
<li>
<p>Notes on <a href="../ref/client-settings.html#constrained-network-environments" class="xref page">Constrained Network Environments</a>.</p>
</li>
<li>
<p><a href="../project-docs/compatibility.html#network-requirements" class="xref page">Network Requirements</a>.</p>
</li>
<li>
<p>If you have a consumer-grade router which has problems with DNS-SRV records review our <a href="../howtos/troubleshooting-cloud-connections.html#troubleshooting-host-not-found" class="xref page">Troubleshooting Guide</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Our <a href="https://forums.couchbase.com/c/go-sdk/23">community forum</a> is a great source of help.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"SDKs","components":["dotnet-sdk","c-sdk","go-sdk","java-sdk","nodejs-sdk","php-sdk","python-sdk","ruby-sdk","scala-sdk","cxx-txns"],"url":"/home/sdk.html","latestVersions":{"dotnet-sdk":"3.3","c-sdk":"3.3","go-sdk":"2.5","java-sdk":"3.3","nodejs-sdk":"4.1","php-sdk":"4.0","python-sdk":"4.0","ruby-sdk":"3.3","scala-sdk":"1.3","cxx-txns":"DOC-9740"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
